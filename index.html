<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI æ™¶ç‰‡ 3D å±•ç¤ºå€å¡Š (ç‰¹å¯«èˆ‡é¡è‰²ä¿®æ­£ç‰ˆ)</title>

    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>

    <style>
        /* CSS æ¨£å¼ä¿æŒä¸è®Š */
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f2f2f2; }
        .hero { background: linear-gradient(180deg, #184c7e 0%, #297be7 100%); color: white; padding: 80px 20px 60px; text-align: center; overflow: hidden; min-height: 550px; }
        .hero-container { max-width: 1200px; margin: 0 auto; }
        .hero__content { display: flex; flex-direction: column; align-items: center; }
        .hero__title { font-size: 2.8em; font-weight: 700; line-height: 1.2; margin-bottom: 20px; }
        .static-page__introduction-subtitle { font-size: 1.1em; max-width: 600px; margin-bottom: 40px; line-height: 1.5; }
        .hero__model { width: 100%; max-width: 800px; height: 450px; margin: 40px auto; position: relative; }
        model-viewer {
            width: 100%;
            height: 100%;
            border: none;
            --progress-bar-color: #1caad9; 
            --poster-color: #2e3644; 
        }
        
        .interaction-buttons {
            margin-top: 20px;
            margin-bottom: -40px; 
            z-index: 10;
            position: relative;
            display: flex;
            justify-content: center;
            flex-wrap: wrap; 
            gap: 10px; 
        }

        .btn-effect {
            padding: 10px 15px;
            border-radius: 8px;
            border: none;
            cursor: not-allowed; 
            font-weight: 600;
            transition: all 0.2s;
            font-size: 0.9em;
            opacity: 0.5;
        }
        
        .btn-effect.active {
            cursor: pointer;
            opacity: 1;
        }

        .btn-emissive { background-color: #FF00FF; color: white; }
        .btn-emissive:hover { background-color: #C000C0; }
        .btn-color { background-color: #4CAF50; color: white; }
        .btn-color:hover { background-color: #45a049; }
        .btn-metallic { background-color: #FFD700; color: #1f2937; }
        .btn-metallic:hover { background-color: #CCAA00; }
        .btn-reset { background-color: #555555; color: white; }
        .btn-reset:hover { background-color: #333333; }
        
        .hero__button { display: inline-block; padding: 12px 30px; border-radius: 5px; text-decoration: none; font-weight: 600; font-size: 1.05em; margin: 0 10px 10px; cursor: pointer; border: none; transition: background-color 0.3s; }
        .btn-primary { background-color: #1caad9; color: white; }
        .btn-primary:hover { background-color: #1c88bb; }
        .btn-important { background-color: #ff9e3a; color: white; }
        .btn-important:hover { background-color: #ff8507; }
        
        @media (max-width: 768px) {
            .hero__title { font-size: 2em; }
            .hero__model { height: 300px; }
            .interaction-buttons { gap: 8px; }
        }
    </style>
</head>
<body>

    <div class="hero">
        
        <div class="hero-container">
            <div class="hero__content">
                <div class="hero__text">
                    <h1 class="hero__title">
                        AI æ™¶ç‰‡è£½é€ æµç¨‹æ¨¡æ“¬
                    </h1>
                    <p class="static-page__introduction-subtitle">
                        é»æ“Šä¸‹æ–¹æŒ‰éˆ•ï¼Œè§€å¯Ÿ 3D å †ç–Šæ™¶ç‰‡æ¨¡å‹çš„ä¸åŒè¦–è¦ºæ•ˆæœã€‚
                    </p>
                </div>
                
                <div class="interaction-buttons">
                    <button class="btn-effect btn-emissive" id="btn-emissive" onclick="setEmissive('#00FFFF', 0.5)">ğŸ’œ å•Ÿå‹•ç™¼å…‰</button>
                    <button class="btn-effect btn-color" id="btn-color" onclick="setBaseColor('#FFFFFF')">ğŸ§ª è®Šæˆç™½è‰²</button>
                    <button class="btn-effect btn-metallic" id="btn-metallic" onclick="setMaterialEffect(0.9, 0.2)">ğŸ’ é¡é¢é‡‘å±¬</button>
                    <button class="btn-effect btn-reset" id="btn-reset" onclick="resetMaterials()">ğŸ”„ é‡è¨­å…¨éƒ¨</button>
                </div>

                <div class="hero__model">
                    <model-viewer 
                        id="ai-chip-viewer"
                        src="https://raw.githubusercontent.com/dgplay001gmail/0002/main/ai_cpu_concept_fbx.compressed.glb" 
                        alt="AI æ™¶ç‰‡æ¦‚å¿µæ¨¡å‹"
                        poster="https://via.placeholder.com/800x450/184c7e/FFFFFF?text=3D+Model+Preview" 
                        camera-controls 
                        auto-rotate 
                        shadow-intensity="1"
                        environment-image="neutral"
                        loading="auto"
                        exposure="1.2"
                        
                        camera-orbit="20deg 75deg 0.5m"             
                        camera-target="0.05m 0.05m 0.05m"          
                        field-of-view="15deg"
                    >
                    </model-viewer>
                </div>

                <button class="button btn-primary btn-large hero__button" onclick="alert('Join for Free Action!')">
                    JOIN FOR FREE
                </button>
                <a class="button btn-important btn-large hero__button" href="/plans?ref=home_page">
                    SEE PLANS
                </a>
                
            </div>
        </div>
    </div>

    <script>
        const modelViewer = document.getElementById('ai-chip-viewer');
        let defaultMaterialState = []; 
        let materialsReady = false;

        // ===========================================
        // 1. æ¨¡å‹è¼‰å…¥å¾Œåˆå§‹åŒ– (æœ€é‡è¦ï¼šåœ¨æ­¤è™•è¨­ç½®åˆå§‹å¤–è§€)
        // ===========================================
        modelViewer.addEventListener('load', () => {
            console.log('3D æ¨¡å‹å·²è¼‰å…¥ï¼Œé–‹å§‹åˆå§‹åŒ–æè³ªã€‚');
            materialsReady = true;
            
            // å•Ÿç”¨æŒ‰éˆ•
            document.querySelectorAll('.btn-effect').forEach(btn => {
                btn.classList.add('active');
                btn.style.cursor = 'pointer';
            });
            
            // å„²å­˜åŸå§‹ç‹€æ…‹ï¼Œä¸¦å¼·åˆ¶è¨­å®šåˆå§‹å¤–è§€ç‚ºé»‘è‰²é«˜å…‰æ¾¤é‡‘å±¬+è—è‰²ç™¼å…‰ (æ¨¡æ“¬åœ–ä¸€)
            modelViewer.model.materials.forEach(material => {
                if (material.pbrMetallicRoughness) {
                    
                    // ğŸš¨ å„²å­˜æ¨¡å‹è¼‰å…¥æ™‚çš„åŸå§‹ç‹€æ…‹ï¼Œç”¨æ–¼ 'é‡è¨­å…¨éƒ¨'
                    defaultMaterialState.push({
                        material: material,
                        baseColor: material.pbrMetallicRoughness.baseColorFactor ? [...material.pbrMetallicRoughness.baseColorFactor] : [1, 1, 1, 1],
                        metallic: material.pbrMetallicRoughness.metallicFactor || 0.0,
                        roughness: material.pbrMetallicRoughness.roughnessFactor || 1.0,
                        emissive: material.emissive.getHex(),
                        emissiveIntensity: material.emissiveIntensity || 0,
                    });
                    
                    // ğŸš€ å¼·åˆ¶è¨­å®šæ¨¡å‹åˆå§‹å¤–è§€ (é»‘è‰²åŸºè‰² + é«˜é‡‘å±¬æ„Ÿ + è—è‰²ç™¼å…‰)
                    const ThreeJS = modelViewer.getThreeJS();
                    
                    // 1. è¨­ç½®åŸºæœ¬é¡è‰²ç‚ºæ·±é»‘/ç°è‰²
                    material.pbrMetallicRoughness.setBaseColorFactor([0.1, 0.1, 0.1, 1]); 
                    
                    // 2. è¨­ç½®é«˜é‡‘å±¬æ„Ÿå’Œä½ç²—ç³™åº¦ (é¡é¢æ•ˆæœ)
                    material.pbrMetallicRoughness.setMetallicFactor(0.8);
                    material.pbrMetallicRoughness.setRoughnessFactor(0.2);
                    
                    // 3. è¨­ç½®ç™¼å…‰ (æ¨¡æ“¬è—è‰²ç·šè·¯)
                    material.emissive.setHex(0x0000FF); // è—è‰²
                    material.emissiveIntensity = 5; // æé«˜å¼·åº¦
                    material.emissiveFactor = 1;
                    
                    material.needsUpdate = true;
                }
            });
            console.log('æ¨¡å‹åˆå§‹è¦–è¦ºå·²å¼·åˆ¶è¨­å®šç‚ºé«˜å…‰æ¾¤é»‘è‰² + è—è‰²ç™¼å…‰ã€‚');
        });

        // ===========================================
        // 2. æ ¸å¿ƒåŠŸèƒ½å‡½æ•¸ (èˆ‡ä¸Šæ¬¡æä¾›çš„ç‰ˆæœ¬ç›¸åŒï¼Œä½†ç¾åœ¨æ‡‰è©²èƒ½ä½œç”¨)
        // ===========================================

        /**
         * è¨­ç½®æè³ªçš„è‡ªç™¼å…‰ (Emissive) æ•ˆæœ
         */
        window.setEmissive = (hexColor, strength) => {
            if (!materialsReady) return;
            
            const ThreeJS = modelViewer.getThreeJS();
            const emissiveColor = new ThreeJS.Color(hexColor);
            
            modelViewer.model.materials.forEach(material => {
                if (material.pbrMetallicRoughness) {
                    material.emissiveFactor = 1; 
                    material.emissive.copy(emissiveColor); 
                    material.emissiveIntensity = strength * 5; 
                    material.needsUpdate = true;
                }
            });
        };

        /**
         * æ”¹è®Šæ¨¡å‹çš„åŸºæœ¬é¡è‰² (å°‡æ¨¡å‹è®Šç‚ºå–®ç´”ç™½è‰²ï¼Œç”¨æ–¼ç¤ºç¯„)
         */
        window.setBaseColor = (hexColor) => {
            if (!materialsReady) return;

            const ThreeJS = modelViewer.getThreeJS();
            const color = new ThreeJS.Color(hexColor);
            const colorArray = [color.r, color.g, color.b, 1]; 

            modelViewer.model.materials.forEach(material => {
                if (material.pbrMetallicRoughness) {
                    material.pbrMetallicRoughness.setBaseColorFactor(colorArray);
                    
                    // é‡è¨­æ‰€æœ‰ç™¼å…‰/é‡‘å±¬å±¬æ€§
                    material.pbrMetallicRoughness.setMetallicFactor(0.0);
                    material.pbrMetallicRoughness.setRoughnessFactor(1.0);
                    material.emissiveFactor = 0;
                    material.emissiveIntensity = 0;
                    material.needsUpdate = true;
                }
            });
        };
        
        /**
         * èª¿æ•´é‡‘å±¬è³ªæ„Ÿå’Œç²—ç³™åº¦ï¼Œæ¨¡æ“¬é¡é¢é‡‘å±¬
         */
        window.setMaterialEffect = (metallic, roughness) => {
            if (!materialsReady) return;
            
            modelViewer.model.materials.forEach(material => {
                if (material.pbrMetallicRoughness) {
                    material.pbrMetallicRoughness.setMetallicFactor(metallic);
                    material.pbrMetallicRoughness.setRoughnessFactor(roughness);
                    material.emissiveFactor = 0;
                    material.emissiveIntensity = 0;
                    material.needsUpdate = true;
                }
            });
        };


        /**
         * é‡ç½®æ‰€æœ‰æè³ªå±¬æ€§åˆ°æ¨¡å‹è¼‰å…¥æ™‚çš„ã€ŒåŸå§‹ã€ç‹€æ…‹
         */
        window.resetMaterials = () => {
            if (!materialsReady) return;

            // é€™è£¡å°‡é‡ç½®åˆ° load äº‹ä»¶ä¸­**å„²å­˜**çš„ç‹€æ…‹
            defaultMaterialState.forEach(state => {
                const material = state.material;
                if (material.pbrMetallicRoughness) {
                    material.pbrMetallicRoughness.setBaseColorFactor(state.baseColor);
                    material.pbrMetallicRoughness.setMetallicFactor(state.metallic);
                    material.pbrMetallicRoughness.setRoughnessFactor(state.roughness);
                    
                    material.emissive.setHex(state.emissive);
                    material.emissiveIntensity = state.emissiveIntensity;
                    material.emissiveFactor = state.emissiveIntensity > 0 ? 1 : 0; 

                    material.needsUpdate = true;
                }
            });
        };
        
    </script>
</body>
</html>
